# 计算机体系结构课后习题

## 第一章

1.略

2.假设计算机执行一条一级指令需要$t$时间，那么对于一条$r$级指令来说，他会被解释成$N^{r-1}$条一级指令，完成$M^{r-1}$条一级指令，则$r$级指令完成一条一级指令所用的平均时间为$\frac{N^{r-1}}{M^{r-1}}t$。则对于一段在第一级上执行需要$K$时间的程序来说，在第二、三、四级上执行需要的时间为$\frac{N}{M}K$、$\frac{N^2}{M^2}K$、$\frac{N^3}{M^3}K$。

3.主要特征：以运算器为中心、采用存储程序原理、存储器是按地址访问的、控制流由指令流产生、指令由操作码和地址码组成、数据以二进制编码表示。

存在问题：CPU和存储器、I/O设备之间的速度存在越来越大的差距，严重影响了处理器性能的发挥。

如何改进：前瞻、多线程、流水线、路径缓冲、向量部件、SIDM加速、GPU异构计算，等等。

4.有效CPI=$\frac{660}{259}$，MIPS=$\frac{5180}{33}$，程序执行时间T=535$\mu s$

5.（1）$S_p=\frac{S_f}{0.9S_f+0.1}$

![1700402097181](images/1700402097181.png)

（2）最大为$\frac{10}{9}$

6.（1）设加速比为$S$，可向量化百分比为$P$，则$S=\frac{20}{20-19P}$

（2）

![1700402334082](images/1700402334082.png)

7.（1）设原来系统执行时间为$100T$，部件3可改进比例为$x$，则改进后系统执行时间为$(41.5-90x)T$，加速比为$\frac{100}{41.5-90x}$，加速比为10时，$x=15\%$

（2）设原来系统执行时间为$100T$，则不可改进部分执行时间为$20T$，改进后系统执行时间为$23.5T$，占比为$84.998\%$

（3）占比为$70\%$的，占比为$70\%$和任一占比为$20\%$的。

8.（1）操作1：$2$，操作2：$\frac{4}{3}$，操作3：$\frac{10}{3}$，操作4：$4$

（2）操作1：$1.000005000025$，操作2：$1.0000075000562503$，操作3：$1.0000245006002646$，操作4：$1.0000112501265639$

（3）$1.0000895905257434$

9.略

## 第二章




# 附录

1.5跑图代码

```python
import matplotlib.pyplot as plt
import numpy as np

def f(x):
    return x/(0.9*x+0.1)

a=np.linspace(0.1,100,1000)
s=f(a)
plt.plot(a,s,'r-')
plt.show()
```

1.6跑图代码

```python
import matplotlib.pyplot as plt
import numpy as np

def f(x):
    return 20/(20-19*x)

a=np.linspace(0,1,1000)
s=f(a)
plt.plot(a,s,'r-')
plt.show()
```

1.8(3)计算代码

```python
import matplotlib.pyplot as plt
import numpy as np

T=100
a=np.array([2,4/3,10/3,4])
p=np.array([10,30,35,15])/10**6
w=T
for i in range(4):
    w-=100*p[i]
o=p/a
print(T/(o.sum()+w))
```
