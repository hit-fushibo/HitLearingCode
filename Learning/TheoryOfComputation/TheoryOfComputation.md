# 计算理论 23 春

## 计算模型

### 什么是计算的理论模型

- 有效计算的严格数学定义
- 模型独立于具体的机器

### 确定图灵机（DTM）

#### 定义

DTM M 由七元组$(Q,\Sigma,\Gamma,\delta,q_0 ,B,F)$,其中

- $Q$是有穷状态集合
- $\Sigma$是有穷输入符号集合
- $\Gamma$是有穷的带上的起始符号，显然$\Sigma \subseteq \Gamma$
- $q_0$是图灵机的起始状态
- $F \subseteq Q$是停机状态集合
- $B \in \Gamma \backslash \Sigma$是空字符
- $\delta$是形如$(Q \backslash F) \times \Gamma \rightarrow Q \times \Gamma \times \{R,L\}$的转移函数

转移函数是核心

- $\delta (p,a) = (q,b,L)$ 定义了一个动作
- 当机器处于状态$p$，并且带头所处格子内容为$a$时，机器将$a$改为$b$，进入状态$q$，带头左移($L$)

#### 计算方式

输入$w = w_1 w_2 w_3 ....w_n \in \Sigma^*$，图灵机 M 的计算方式如下

- 初始化时，$w$存储在 M 的连续$n$个格子里，其余部分是空白符，带头位于$w_1$格子处，状态为$q_0$
- M 开始运行后，根据$\delta$的规则执行计算动作，计算一直持续，直到 M 进入接收状态，停机
- 如果 M 无法进入停机状态，M 将永远一直运行下去
- 如果 M 无法找到可使用的转移规则，M 拒绝

#### 图灵机的瞬时描述

图灵机计算过程的瞬时描述（ID）

$$
X_1 X_2 ...X_{i-1}qX_iX_{i+1}...X_n
$$

- 图灵机当前状态是$q$
- 图灵机的带头正在扫描$X_i$
- 图灵机带上的内容为$X_1 X_2 ...X_{i-1}X_iX_{i+1}...X_n$

瞬时描述的移动，即图灵机的一步计算，表示为$ \vdash$

- 如果有$\delta(q,X_i) = (p,Y,\leftarrow)$，那么有如下移动$X_1 X_2 ...X_{i-1}qX_iX_{i+1}...X_n \vdash X_1 X_2 ...X_{i-2}pYX_{i+1}...X_n$
- 特殊情况，瞬时描述的长度发生变化
- 当$i$=1 时，$qX_1X_2 ... X_n \vdash pBYX_2 ... X_n$
- 当$i=n$且$Y=B$时，$X_1 X_2 ...X_{n-1}qX_n \vdash X_1 X_2...X_{n-2}pX_{n-1}$

多次移动可以表示为

$$
\alpha_1q\beta_1\vdash^*\alpha_2p\beta_2或\alpha_1q\beta_1\vdash^*_M\alpha_2p\beta_2
$$

#### 图灵机的语言

给定图灵机 M 和字符串$w\in\Sigma^*$，如果存在 M 的瞬时描述序列$ID_1,ID_2,....,ID_k$满足下列条件

- $ID_1$是图灵机 M 初始状态对应的瞬时描述
- $ID_k$是图灵机 M 的某个接收状态
- 对任意$i\in [1,k-1],ID_i\vdash ID_{i+1}$

则称 M 接受$w$

M 接受的字符串集合称为 M 的语言，或 M 识别的语言，记作$L(M)$

#### 图灵机的变形

##### 多带图灵机

- 图灵机由多条带，都有各自的带头
- 初始化时，输入在第一个带上，其他空白
- 转移函数

$$
\delta :Q\times \Gamma^k \rightarrow Q\times \Gamma^k \times \{L,R,S\}^k
$$

单带图灵机与多带图灵机等价，单带图灵机模拟多带图灵机时间代价：平方级别

##### 非确定图灵机

- 转移函数$\delta:Q\times \Gamma \rightarrow 2^{Q\times \Gamma \times \{L,R\}}$
- 非确定图灵机有多种可能计算过程，对应多个瞬时描述转移
- $w$被接受，当且仅当存在转移序列使得$q_0w\vdash^* \alpha p \beta$,$p\in F$

单带图灵机与非确定图灵机等价，单带图灵机模拟非确定图灵机时间代价：指数级别

##### 其他图灵机

- 单向无穷带图灵机
- 多栈图灵机
- 计数图灵机
- 枚举图灵机

都与标准图灵机等价

### 其他计算模型

- 随机访存图灵机
- 文法
- 函数

都与标准图灵机等价

### 丘奇-图灵论题

合理的计算模型都是等价的，即与图灵机等价

图灵机与现代计算机能力相同，等价算法等于图灵机算法

这一论题不是严格的数学表达，无法证明。其正确性来自于科学界的广泛认同。

## 可计算理论

### 可判定与可识别

#### 图灵机 M 的语言(M 识别的语言)

M 接受的字符串集合称为 M 的语言，或被 M 识别的语言，记作 L(M)。

#### 图灵机 M 的语言(M 判定的语言)

如果 M 是始终停机的，称 L(M)为图灵机 M 判定的语言。

#### 图灵可识别语言

存在图灵机识别语言 L

#### 图灵可判定语言

存在图灵机判定语言 L

- 如果图灵机 M 判定语言 L，那么图灵机 M 也一定识别语言 L
- 如果 L 是图灵可判定的，那么它一定是图灵可识别的

证明一个语言是否可识别/可判定，只要找到一个识别/判定它的图灵机

### 递归与递归可枚举

#### 枚举图灵机

枚举图灵机是一个多带图灵机：

- 初始状态下，工作带是空的，即没有输入。有一条特殊的输出带，带头只能左移，在输出带上顺序打印有穷长度的字符串，字符串的数目可能是无穷的，字符串可以重复打印
- 运行中会进入一个特殊的状态$q_{print}$，该状态将工作带上的内容复制到输出带上，利用#字符分隔，复制后，机器返回常规状态继续运行。

给定枚举图灵机 E，对应语言为$L(E)={x|E输出#x#}$

#### 递归可枚举语言

令 𝐿 为任一语言，如果存在枚举图灵机 𝐸 满足$𝐿 = 𝐿(𝐸)$，那么 𝐿 是递归可枚举语言。

语言 L 是递归可枚举的，当且仅当 L 是图灵可识别的

如果语言 𝐿 是递归可枚举的，那么存在一个枚举器 𝐸，满足 𝐿(𝐸) = 𝐿 且每个 𝐿 中的字符串仅被输出一次

#### 递归语言

令 𝐿 为任一语言， 如果存在枚举图灵机 𝐸 满足 𝐿 = 𝐿(𝐸)，并且 𝐸 以字母序打印 𝐿(𝐸)， 则称 𝐿 是**递归语言**。

语言 L 是递归的，当且仅当 L 是图灵可判定的。

### 性质

图灵可识别语言和图灵可判定语言在交、并、连接、闭包运算下封闭

只有图灵可判定语言在补操作下封闭

语言 L 是图灵可判定的，当且仅当 L 及其补语言$L$均是图灵可识别的

### 对图灵机编码

#### 对二进制串编码

以字典序进行编码，比如$w_1$=$\epsilon$，$w_2=0$，$w_3=1$，$w_4=00$...。

就是将角标对应十进制转为二进制之后去掉第一个 1。

#### 图灵机编码

简化假设：处理{0,1}字符串，$q_0$为初始状态，$q_1$为接收状态

$$
M=(Q,\{0,1\},\{0,1,B\},\delta,q_0,B,\{q_1\})\\
Q=\{q_0,q_1,...,q_n\},令X_1=0,X_2=1,X_3=B,D_1=L,D_2=R
$$

将$\delta(q_i,X_j)=(q_k,X_l,D_m)$编码为$0^{i+1}10^{j}10^{k+1}10^{l+1}10^{m+1}$

将图灵机 M 编码为(假设$\delta有r条转移规则$)如下形式，这里$code_{i}$是$\delta$中第$i$个转移规则的编码

$$
<{M}>=code_{1}11code_{2}11...11code_{r}111...
$$

任意图灵机均可以编码为 01 字符串，若 M 的编码是第$i$个 01 字符串，称 M 是第$i$个图灵机，记作$M_i$

并非所有 01 字符串都是一个合法的图灵机编码

因为语言的数目远远多于图灵机的数量，因此，一定存在某个语言不对应任何一个图灵机。

### 具体语言例子

#### 对角化语言$L_d=\{w_i|w_i\notin L(M_i) \}$

不可识别的

证明：

- 假设存在一个 TM M 识别$L_d$，那么就存在一个正整数$i$使得$M=M_i$
- 如果$w_i \in L(M_i)$，那么$w_i$就不能被 M 接受
- 如果$w_i \notin L(M_i)$，那么$w_i$就被 M 接受
- 产生矛盾，因此不存在这样的 TM M，即$L_d$不可识别。

#### 图灵机接受问题$L_{ACC}=\{<M,w>|M是图灵机且接受w\}$

可识别不可判定

可识别证明：

构造一个通用图灵机$M_u$模拟 M 在$w$上的运行

$M_u:input:<M,w>$。是一个多带图灵机，1 带作为输入，2 带复制要模拟的图灵机的输入，3 带保存图灵机的状态，4、5、6……带作为草稿。

1. 检查输入是否合法
2. 在 2 带上复制 1 带中的$w$，并将 0 编码为 10，1 编码为 100。之后把 0 写入 3 带。
3. 在 1 带上找$0^{i+1}10^{j}10^{k+1}10^{l+1}10^{m+1}$使得$0^{i+1}$是 3 带上的状态，$0^{j}$是 2 带上当前带符号。
4. 之后把 3 带内容变为$0^{k+1}$，2 带当前的$0^{j}$变为$0^{l+1}$，再根据$0^{m+1}$左移或右移 2 带读头指下一个带符号。重复 3
5. 如果没有找到匹配的转移，则停机拒绝
6. 如果 M 接受，则接受

不可判定证明：

假设存在一个 TM H 判定它，构造如下的 TM D：

- input：\<M\>
- 模拟 H 在\<M,\<M\>\>上的运行，H 接受则拒绝，拒绝则接受

那么当 D 以自身编码作为输入时产生矛盾。

推论：$\overline{L_{ACC}}$不是图灵可识别的

#### 图灵机停机问题$L_{HALT}=\{<M,w>|M是一个TM且在w上停机\}$

可识别不可判定

不可判定证明：

假设存在一个 TM H 判定它，构造如下的 TM D：

- input：$<M,w>$
- 模拟 H 在$<M,w>$上的运行，拒绝则拒绝
- 如果 H 接受，则模拟 M 在$w$上的运行，接受则接受，拒绝则拒绝

那么 D 就是一个判定$L_{ACC}$的 TM，而这样的 TM 是不存在的，所以假设不成立。

推论：$\overline{L_{HALT}}$是不可识别的

#### $L_{ACC01}=\{<{M}>|M是TM且接受01\}$

可识别不可判定

不可判定证明：

假设存在一个 TM H 判定它，构造如下的 TM D：

- input:$<M,w>$
- 构造 TM S：input:x,如果 x 是 01，则模拟 M 在$w$上的运行，接受则接受，拒绝则拒绝；如果 x 不是 01 则拒绝
- 模拟 H 在\<S\>上的运行，接受则接受，拒绝则拒绝

那么 D 就是判定$L_{ACC}$的 TM，而这样的 TM 是不存在的，所以假设不成立。

推论：$\overline{L_{ACC01}}$是不可识别的

#### $L_e=\{<{M}>|M是TM且M不接受任何输入\}$

不可识别

先证不可判定：

假设存在一个 TM H 判定它，构造 TM D：

- input:$<M,w>$
- 构造 S：input：x。模拟 M 在 w 上的运行，接受则接受，拒绝则拒绝。
- 模拟 H 在\<S\>上的运行，接受则拒绝，拒绝则接受

那么 D 就是判定$L_{ACC}$的 TM，而这样的 TM 是不存在的，所以假设不成立。

不可识别证明：等价证明$\overline{L_e}$可识别不可判定

可识别：猜测所有输入

不可判定证明：

假设存在一个 TM H 判定它，构造 TM D：

- input：$<M,w>$
- 构造 S，与 M 相同，但只有输入是$w$时才运行，其他输入直接拒绝
- 模拟 H 在\<S\>上的运行，接受则接受，拒绝则拒绝

那么 D 就是判定$L_{ACC}$的 TM，而这样的 TM 是不存在的，所以假设不成立。

#### $L_{REG}=\{<{M}>|M是接受正则语言的图灵机\}$

不可判定

证明：

假设存在一个 TM H 判定它，构造 TM D：

- input:$<M,w>$
- 构造 S：input：x。如果 x $\in 0^n1^n$，直接接受。否则，模拟 M 在$w$上的运行，接受则接受，拒绝则拒绝。
- 模拟 H 在\<S\>上的运行，接受则接受，拒绝则拒绝。

那么 D 就是判定$L_{ACC}$的 TM，而这样的 TM 是不存在的，所以假设不成立。

#### $L_{EQ}=\{<{M_1,M_2}>|L(M_1)=L(M_2)\}$

不可判定

证明：

假设存在一个 TM H 判定它，构造 TM D：

- input：\<M\>
- 构造 S 拒绝所有输入
- 模拟 H 在\<M,S\>上的运行，接受则接受，拒绝则拒绝

那么 D 就是判定$L_{e}$的 TM，而这样的 TM 是不存在的，所以假设不成立。

### 规约

#### 计算历史规约

#### 映射规约
